{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { Link, useNavigate } from \"react-router-dom\";\n// import { ToastContainer } from \"react-toastify\";\n// import { handleError, handleSuccess } from \"../utils\";\n\n// function Login() {\n//   const [loginInfo, setLoginInfo] = useState({\n//     emailOrUsername: \"\", // Adjusted the name to match backend field\n//     password: \"\",\n//   });\n\n//   const navigate = useNavigate();\n\n//   const handleChange = (e) => {\n//     const { name, value } = e.target;\n//     console.log(name, value);\n//     const copyLoginInfo = { ...loginInfo };\n//     copyLoginInfo[name] = value;\n//     setLoginInfo(copyLoginInfo);\n//   };\n\n//   const handleLogin = async (e) => {\n//     e.preventDefault();\n//     const { emailOrUsername, password } = loginInfo;\n//     if (!emailOrUsername || !password) {\n//       return handleError(\"Email/Username and password are required\");\n//     }\n//     try {\n//       const url = `http://localhost:8080/auth/login`;\n//       const response = await fetch(url, {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify(loginInfo),\n//       });\n//       const result = await response.json();\n//       const { success, message, jwtToken, user, error } = result;\n\n//       if (success) {\n//         handleSuccess(message);\n//         localStorage.setItem(\"token\", jwtToken);\n//         localStorage.setItem(\"loggedInUser\", JSON.stringify(user)); // Store the whole user object\n//         setTimeout(() => {\n//           navigate(\"/home\");\n//         }, 1000);\n//       } else if (error) {\n//         const details = error?.details[0].message;\n//         handleError(details);\n//       } else if (!success) {\n//         handleError(message);\n//       }\n//     } catch (err) {\n//       handleError(\"Something went wrong. Please try again later.\");\n//     }\n//   };\n\n//   return (\n//     <div className=\"container\">\n//       <img src=\"/favicon.ico\" alt=\"Logo\" className=\"logo\" />\n//       <h1>Login</h1>\n//       <form onSubmit={handleLogin}>\n//         <div className=\"form-group\">\n//           <input\n//             onChange={handleChange}\n//             type=\"text\"\n//             name=\"emailOrUsername\"\n//             required\n//             placeholder=\" \" // Space to enable floating effect\n//             value={loginInfo.emailOrUsername}\n//             id=\"emailOrUsername\"\n//           />\n//           <label className=\"form-label\" htmlFor=\"emailOrUsername\">\n//             Email or Username\n//           </label>\n//         </div>\n//         <div className=\"form-group\">\n//           <input\n//             onChange={handleChange}\n//             type=\"password\"\n//             name=\"password\"\n//             required\n//             placeholder=\" \" // Space to enable floating effect\n//             value={loginInfo.password}\n//             id=\"password\"\n//           />\n//           <label className=\"form-label\" htmlFor=\"password\">\n//             Password\n//           </label>\n//         </div>\n//         <button type=\"submit\">Login</button>\n//         <span>\n//           Don't have an account?\n//           <Link to=\"/signup\" className=\"style-link\">\n//             Signup\n//           </Link>\n//         </span>\n//       </form>\n//       <ToastContainer />\n//     </div>\n//   );\n// }\n\n// export default Login;","map":{"version":3,"names":[],"sources":["C:/Users/thesh/Desktop/LOGIN_SINGUP/frontend/src/pages/Login.js"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import { Link, useNavigate } from \"react-router-dom\";\r\n// import { ToastContainer } from \"react-toastify\";\r\n// import { handleError, handleSuccess } from \"../utils\";\r\n\r\n// function Login() {\r\n//   const [loginInfo, setLoginInfo] = useState({\r\n//     emailOrUsername: \"\", // Adjusted the name to match backend field\r\n//     password: \"\",\r\n//   });\r\n\r\n//   const navigate = useNavigate();\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value } = e.target;\r\n//     console.log(name, value);\r\n//     const copyLoginInfo = { ...loginInfo };\r\n//     copyLoginInfo[name] = value;\r\n//     setLoginInfo(copyLoginInfo);\r\n//   };\r\n\r\n//   const handleLogin = async (e) => {\r\n//     e.preventDefault();\r\n//     const { emailOrUsername, password } = loginInfo;\r\n//     if (!emailOrUsername || !password) {\r\n//       return handleError(\"Email/Username and password are required\");\r\n//     }\r\n//     try {\r\n//       const url = `http://localhost:8080/auth/login`;\r\n//       const response = await fetch(url, {\r\n//         method: \"POST\",\r\n//         headers: {\r\n//           \"Content-Type\": \"application/json\",\r\n//         },\r\n//         body: JSON.stringify(loginInfo),\r\n//       });\r\n//       const result = await response.json();\r\n//       const { success, message, jwtToken, user, error } = result;\r\n\r\n//       if (success) {\r\n//         handleSuccess(message);\r\n//         localStorage.setItem(\"token\", jwtToken);\r\n//         localStorage.setItem(\"loggedInUser\", JSON.stringify(user)); // Store the whole user object\r\n//         setTimeout(() => {\r\n//           navigate(\"/home\");\r\n//         }, 1000);\r\n//       } else if (error) {\r\n//         const details = error?.details[0].message;\r\n//         handleError(details);\r\n//       } else if (!success) {\r\n//         handleError(message);\r\n//       }\r\n//     } catch (err) {\r\n//       handleError(\"Something went wrong. Please try again later.\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container\">\r\n//       <img src=\"/favicon.ico\" alt=\"Logo\" className=\"logo\" />\r\n//       <h1>Login</h1>\r\n//       <form onSubmit={handleLogin}>\r\n//         <div className=\"form-group\">\r\n//           <input\r\n//             onChange={handleChange}\r\n//             type=\"text\"\r\n//             name=\"emailOrUsername\"\r\n//             required\r\n//             placeholder=\" \" // Space to enable floating effect\r\n//             value={loginInfo.emailOrUsername}\r\n//             id=\"emailOrUsername\"\r\n//           />\r\n//           <label className=\"form-label\" htmlFor=\"emailOrUsername\">\r\n//             Email or Username\r\n//           </label>\r\n//         </div>\r\n//         <div className=\"form-group\">\r\n//           <input\r\n//             onChange={handleChange}\r\n//             type=\"password\"\r\n//             name=\"password\"\r\n//             required\r\n//             placeholder=\" \" // Space to enable floating effect\r\n//             value={loginInfo.password}\r\n//             id=\"password\"\r\n//           />\r\n//           <label className=\"form-label\" htmlFor=\"password\">\r\n//             Password\r\n//           </label>\r\n//         </div>\r\n//         <button type=\"submit\">Login</button>\r\n//         <span>\r\n//           Don't have an account?\r\n//           <Link to=\"/signup\" className=\"style-link\">\r\n//             Signup\r\n//           </Link>\r\n//         </span>\r\n//       </form>\r\n//       <ToastContainer />\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Login;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}