{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thesh\\\\Desktop\\\\Authentication\\\\frontend\\\\src\\\\components\\\\ForgotPassword\\\\SentOtpForgotPassword.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { useAuthStore } from \"../store/authStore\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmailVerificationPage = () => {\n  _s();\n  const [code, setCode] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\n  const inputRefs = useRef([]);\n  const navigate = useNavigate();\n  const {\n    error,\n    isLoading,\n    verifyEmail\n  } = useAuthStore();\n  const handleChange = (index, value) => {\n    const newCode = [...code];\n\n    // Handle pasted content\n    if (value.length > 1) {\n      const pastedCode = value.slice(0, 6).split(\"\");\n      for (let i = 0; i < 6; i++) {\n        newCode[i] = pastedCode[i] || \"\";\n      }\n      setCode(newCode);\n\n      // Focus on the last non-empty input or the first empty one\n      const lastFilledIndex = newCode.findLastIndex(digit => digit !== \"\");\n      const focusIndex = lastFilledIndex < 5 ? lastFilledIndex + 1 : 5;\n      inputRefs.current[focusIndex].focus();\n    } else {\n      newCode[index] = value;\n      setCode(newCode);\n\n      // Move focus to the next input field if value is entered\n      if (value && index < 5) {\n        inputRefs.current[index + 1].focus();\n      }\n    }\n  };\n  const handleKeyDown = (index, e) => {\n    if (e.key === \"Backspace\" && !code[index] && index > 0) {\n      inputRefs.current[index - 1].focus();\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const verificationCode = code.join(\"\");\n    try {\n      await verifyEmail(verificationCode);\n      navigate(\"/\");\n      toast.success(\"Email verified successfully\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // Auto submit when all fields are filled\n  useEffect(() => {\n    if (code.every(digit => digit !== \"\")) {\n      handleSubmit(new Event(\"submit\"));\n    }\n  }, [code]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md w-full bg-gray-800 bg-opacity-50 backdrop-filter backdrop-blur-xl rounded-2xl shadow-xl overflow-hidden\",\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: -50\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.5\n      },\n      className: \"bg-gray-800 bg-opacity-50 backdrop-filter backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold mb-6 text-center bg-gradient-to-r from-green-400 to-emerald-500 text-transparent bg-clip-text\",\n        children: \"Verify Your Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-300 mb-6\",\n        children: \"Enter the 6-digit code sent to your email address.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: code.map((digit, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: el => inputRefs.current[index] = el,\n            type: \"text\",\n            maxLength: \"6\",\n            value: digit,\n            onChange: e => handleChange(index, e.target.value),\n            onKeyDown: e => handleKeyDown(index, e),\n            className: \"w-12 h-12 text-center text-2xl font-bold bg-gray-700 text-white border-2 border-gray-600 rounded-lg focus:border-green-500 focus:outline-none\"\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 6\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 font-semibold mt-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          type: \"submit\",\n          disabled: isLoading || code.some(digit => !digit),\n          className: \"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-4 rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 disabled:opacity-50\",\n          children: isLoading ? \"Verifying...\" : \"Verify Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 3\n  }, this);\n};\n_s(EmailVerificationPage, \"EVhZzl0r0oYLVPPPUlS4UxQ9Tz0=\", false, function () {\n  return [useNavigate, useAuthStore];\n});\n_c = EmailVerificationPage;\nexport default EmailVerificationPage;\nvar _c;\n$RefreshReg$(_c, \"EmailVerificationPage\");","map":{"version":3,"names":["useEffect","useRef","useState","useNavigate","motion","useAuthStore","toast","jsxDEV","_jsxDEV","EmailVerificationPage","_s","code","setCode","inputRefs","navigate","error","isLoading","verifyEmail","handleChange","index","value","newCode","length","pastedCode","slice","split","i","lastFilledIndex","findLastIndex","digit","focusIndex","current","focus","handleKeyDown","e","key","handleSubmit","preventDefault","verificationCode","join","success","console","log","every","Event","className","children","div","initial","opacity","y","animate","transition","duration","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","map","ref","el","type","maxLength","onChange","target","onKeyDown","button","whileHover","scale","whileTap","disabled","some","_c","$RefreshReg$"],"sources":["C:/Users/thesh/Desktop/Authentication/frontend/src/components/ForgotPassword/SentOtpForgotPassword.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useAuthStore } from \"../store/authStore\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nconst EmailVerificationPage = () => {\r\n\tconst [code, setCode] = useState([\"\", \"\", \"\", \"\", \"\", \"\"]);\r\n\tconst inputRefs = useRef([]);\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst { error, isLoading, verifyEmail } = useAuthStore();\r\n\r\n\tconst handleChange = (index, value) => {\r\n\t\tconst newCode = [...code];\r\n\r\n\t\t// Handle pasted content\r\n\t\tif (value.length > 1) {\r\n\t\t\tconst pastedCode = value.slice(0, 6).split(\"\");\r\n\t\t\tfor (let i = 0; i < 6; i++) {\r\n\t\t\t\tnewCode[i] = pastedCode[i] || \"\";\r\n\t\t\t}\r\n\t\t\tsetCode(newCode);\r\n\r\n\t\t\t// Focus on the last non-empty input or the first empty one\r\n\t\t\tconst lastFilledIndex = newCode.findLastIndex((digit) => digit !== \"\");\r\n\t\t\tconst focusIndex = lastFilledIndex < 5 ? lastFilledIndex + 1 : 5;\r\n\t\t\tinputRefs.current[focusIndex].focus();\r\n\t\t} else {\r\n\t\t\tnewCode[index] = value;\r\n\t\t\tsetCode(newCode);\r\n\r\n\t\t\t// Move focus to the next input field if value is entered\r\n\t\t\tif (value && index < 5) {\r\n\t\t\t\tinputRefs.current[index + 1].focus();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleKeyDown = (index, e) => {\r\n\t\tif (e.key === \"Backspace\" && !code[index] && index > 0) {\r\n\t\t\tinputRefs.current[index - 1].focus();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst verificationCode = code.join(\"\");\r\n\t\ttry {\r\n\t\t\tawait verifyEmail(verificationCode);\r\n\t\t\tnavigate(\"/\");\r\n\t\t\ttoast.success(\"Email verified successfully\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\t// Auto submit when all fields are filled\r\n\tuseEffect(() => {\r\n\t\tif (code.every((digit) => digit !== \"\")) {\r\n\t\t\thandleSubmit(new Event(\"submit\"));\r\n\t\t}\r\n\t}, [code]);\r\n\r\n\treturn (\r\n\t\t<div className='max-w-md w-full bg-gray-800 bg-opacity-50 backdrop-filter backdrop-blur-xl rounded-2xl shadow-xl overflow-hidden'>\r\n\t\t\t<motion.div\r\n\t\t\t\tinitial={{ opacity: 0, y: -50 }}\r\n\t\t\t\tanimate={{ opacity: 1, y: 0 }}\r\n\t\t\t\ttransition={{ duration: 0.5 }}\r\n\t\t\t\tclassName='bg-gray-800 bg-opacity-50 backdrop-filter backdrop-blur-xl rounded-2xl shadow-2xl p-8 w-full max-w-md'\r\n\t\t\t>\r\n\t\t\t\t<h2 className='text-3xl font-bold mb-6 text-center bg-gradient-to-r from-green-400 to-emerald-500 text-transparent bg-clip-text'>\r\n\t\t\t\t\tVerify Your Email\r\n\t\t\t\t</h2>\r\n\t\t\t\t<p className='text-center text-gray-300 mb-6'>Enter the 6-digit code sent to your email address.</p>\r\n\r\n\t\t\t\t<form onSubmit={handleSubmit} className='space-y-6'>\r\n\t\t\t\t\t<div className='flex justify-between'>\r\n\t\t\t\t\t\t{code.map((digit, index) => (\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tref={(el) => (inputRefs.current[index] = el)}\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tmaxLength='6'\r\n\t\t\t\t\t\t\t\tvalue={digit}\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleChange(index, e.target.value)}\r\n\t\t\t\t\t\t\t\tonKeyDown={(e) => handleKeyDown(index, e)}\r\n\t\t\t\t\t\t\t\tclassName='w-12 h-12 text-center text-2xl font-bold bg-gray-700 text-white border-2 border-gray-600 rounded-lg focus:border-green-500 focus:outline-none'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{error && <p className='text-red-500 font-semibold mt-2'>{error}</p>}\r\n\t\t\t\t\t<motion.button\r\n\t\t\t\t\t\twhileHover={{ scale: 1.05 }}\r\n\t\t\t\t\t\twhileTap={{ scale: 0.95 }}\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tdisabled={isLoading || code.some((digit) => !digit)}\r\n\t\t\t\t\t\tclassName='w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-4 rounded-lg shadow-lg hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 disabled:opacity-50'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isLoading ? \"Verifying...\" : \"Verify Email\"}\r\n\t\t\t\t\t</motion.button>\r\n\t\t\t\t</form>\r\n\t\t\t</motion.div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default EmailVerificationPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}