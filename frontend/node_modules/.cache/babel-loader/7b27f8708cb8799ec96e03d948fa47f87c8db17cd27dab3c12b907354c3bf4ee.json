{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thesh\\\\Desktop\\\\LOGIN_SINGUP - Copy\\\\LOGIN_SINGUP - Copy\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\n// Home.js\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { handleError, handleSuccess } from '../utils/ReactToastify';\nimport { ToastContainer } from 'react-toastify';\nimport '../utils/ReactToastifyCustom.css';\nimport '../utils/loading.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const [loggedInUser, setLoggedInUser] = useState('');\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [fadeOut, setFadeOut] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    setLoggedInUser(localStorage.getItem('loggedInUser'));\n  }, []);\n  const handleLogout = () => {\n    setLoading(true);\n    setFadeOut(false);\n    setTimeout(() => {\n      setFadeOut(true);\n      setTimeout(() => {\n        localStorage.removeItem('token');\n        localStorage.removeItem('loggedInUser');\n        handleSuccess('User logged out successfully');\n        navigate('/login');\n      }, 250);\n    }, 1000);\n  };\n\n  // const fetchUsers = async () => {\n  //     setLoading(true);\n  //     try {\n  //         const url = \"http://localhost:8080/Users\";\n  //         const headers = {\n  //             headers: {\n  //                 'Authorization': `Bearer ${localStorage.getItem('token')}`\n  //             }\n  //         };\n  //         const response = await fetch(url, headers);\n  //         const result = await response.json();\n  //         setUsers(result);\n  //     } catch (err) {\n  //         handleError(err.message || 'An error occurred');\n  //     } finally {\n  //         setLoading(false);\n  //     }\n  // };\n\n  // useEffect(() => {\n  //     fetchUsers();\n  // }, []);\n\n  const fetchUser = async () => {\n    setLoading(true);\n    try {\n      const url = \"http://localhost:8080/Users/me\";\n      const headers = {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      };\n      const response = await fetch(url, headers);\n      const result = await response.json();\n      if (result.success) {\n        setUsers([result.user]);\n      } else {\n        handleError(result.message || 'Failed to fetch user information');\n      }\n    } catch (err) {\n      handleError(err.message || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchUser();\n  }, []);\n\n  // return (\n  //     <div className='container'>\n  //         <h1>Welcome {loggedInUser}</h1>\n  //         <div>\n  //             {loading ? (\n  //                 <div className={`loading-overlay ${fadeOut ? 'hidden' : ''}`}>\n  //                     <img src='/apple-loading.gif' alt='Loading...' className='loading-spinner' />\n  //                 </div>\n  //             ) : users.length > 0 ? (\n  //                 users.map((user, index) => (\n  //                     <ul key={index}>\n  //                         <li>Name: {user.name}</li>\n  //                         <li>Email: {user.email}</li>\n  //                         <li>Joined: {new Date(user.createdAt).toLocaleDateString()}</li>\n  //                     </ul>\n  //                 ))\n  //             ) : (\n  //                 <p>No users found</p>\n  //             )}\n  //         </div>\n\n  //         <button onClick={handleLogout}>Logout</button>\n\n  //         <ToastContainer />\n  //     </div>\n  // );\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Welcome \", loggedInUser]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `loading-overlay ${fadeOut ? 'hidden' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/apple-loading.gif\",\n          alt: \"Loading...\",\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this) : users.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Name: \", users[0].name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Email: \", users[0].email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Joined: \", new Date(users[0].createdAt).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"User information not found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"b2d5S3gD6s4d3CTRPa56MiIPUGc=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","handleError","handleSuccess","ToastContainer","jsxDEV","_jsxDEV","Home","_s","loggedInUser","setLoggedInUser","users","setUsers","loading","setLoading","fadeOut","setFadeOut","navigate","localStorage","getItem","handleLogout","setTimeout","removeItem","fetchUser","url","headers","response","fetch","result","json","success","user","message","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","length","name","email","Date","createdAt","toLocaleDateString","onClick","_c","$RefreshReg$"],"sources":["C:/Users/thesh/Desktop/LOGIN_SINGUP - Copy/LOGIN_SINGUP - Copy/frontend/src/pages/Home.js"],"sourcesContent":["// Home.js\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { handleError, handleSuccess } from '../utils/ReactToastify';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport '../utils/ReactToastifyCustom.css';\r\nimport '../utils/loading.css';\r\n\r\nfunction Home() {\r\n    const [loggedInUser, setLoggedInUser] = useState('');\r\n    const [users, setUsers] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [fadeOut, setFadeOut] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        setLoggedInUser(localStorage.getItem('loggedInUser'));\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        setLoading(true);\r\n        setFadeOut(false);\r\n\r\n        setTimeout(() => {\r\n            setFadeOut(true);\r\n            setTimeout(() => {\r\n                localStorage.removeItem('token');\r\n                localStorage.removeItem('loggedInUser');\r\n                handleSuccess('User logged out successfully');\r\n                navigate('/login');\r\n            }, 250);\r\n        }, 1000);\r\n    };\r\n\r\n    // const fetchUsers = async () => {\r\n    //     setLoading(true);\r\n    //     try {\r\n    //         const url = \"http://localhost:8080/Users\";\r\n    //         const headers = {\r\n    //             headers: {\r\n    //                 'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n    //             }\r\n    //         };\r\n    //         const response = await fetch(url, headers);\r\n    //         const result = await response.json();\r\n    //         setUsers(result);\r\n    //     } catch (err) {\r\n    //         handleError(err.message || 'An error occurred');\r\n    //     } finally {\r\n    //         setLoading(false);\r\n    //     }\r\n    // };\r\n\r\n    // useEffect(() => {\r\n    //     fetchUsers();\r\n    // }, []);\r\n\r\n\r\n\r\n\r\n\r\n    const fetchUser = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const url = \"http://localhost:8080/Users/me\";\r\n            const headers = {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            };\r\n            const response = await fetch(url, headers);\r\n            const result = await response.json();\r\n    \r\n            if (result.success) {\r\n                setUsers([result.user]);\r\n            } else {\r\n                handleError(result.message || 'Failed to fetch user information');\r\n            }\r\n        } catch (err) {\r\n            handleError(err.message || 'An error occurred');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    \r\n    useEffect(() => {\r\n        fetchUser();\r\n    }, []);\r\n\r\n    \r\n\r\n    // return (\r\n    //     <div className='container'>\r\n    //         <h1>Welcome {loggedInUser}</h1>\r\n    //         <div>\r\n    //             {loading ? (\r\n    //                 <div className={`loading-overlay ${fadeOut ? 'hidden' : ''}`}>\r\n    //                     <img src='/apple-loading.gif' alt='Loading...' className='loading-spinner' />\r\n    //                 </div>\r\n    //             ) : users.length > 0 ? (\r\n    //                 users.map((user, index) => (\r\n    //                     <ul key={index}>\r\n    //                         <li>Name: {user.name}</li>\r\n    //                         <li>Email: {user.email}</li>\r\n    //                         <li>Joined: {new Date(user.createdAt).toLocaleDateString()}</li>\r\n    //                     </ul>\r\n    //                 ))\r\n    //             ) : (\r\n    //                 <p>No users found</p>\r\n    //             )}\r\n    //         </div>\r\n\r\n    //         <button onClick={handleLogout}>Logout</button>\r\n\r\n    //         <ToastContainer />\r\n    //     </div>\r\n    // );\r\n\r\n\r\nreturn (\r\n    <div className='container'>\r\n        <h1>Welcome {loggedInUser}</h1>\r\n        <div>\r\n            {loading ? (\r\n                <div className={`loading-overlay ${fadeOut ? 'hidden' : ''}`}>\r\n                    <img src='/apple-loading.gif' alt='Loading...' className='loading-spinner' />\r\n                </div>\r\n            ) : users.length > 0 ? (\r\n                <ul>\r\n                    <li>Name: {users[0].name}</li>\r\n                    <li>Email: {users[0].email}</li>\r\n                    <li>Joined: {new Date(users[0].createdAt).toLocaleDateString()}</li>\r\n                </ul>\r\n            ) : (\r\n                <p>User information not found</p>\r\n            )}\r\n        </div>\r\n\r\n        <button onClick={handleLogout}>Logout</button>\r\n\r\n        <ToastContainer />\r\n    </div>\r\n);\r\n\r\n\r\n\r\n}\r\n\r\nexport default Home;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}